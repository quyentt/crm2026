<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chức năng</title>
    <link rel="stylesheet" href="../assets/css/styles.css" />
  </head>

  <body>
    <div class="header fixed-top">
      <div class="top-nav">
        <div class="head-logo">
          <a href="index.html">
            <img class="logo-icon" src="../assets/images/logo/logo-icon.png" />
            <img class="logo-text" src="../assets/images/logo/logo-text.png" />
          </a>
        </div>
        <div class="head-search-form">
          <div class="head-search-toggle">
            <i class="fal fa-search"></i>
          </div>
          <div class="head-search-box">
            <div class="form">
              <input
                type="text"
                class="search-imput"
                placeholder="Tìm kiếm thông tin"
              />
              <button class="search-btn">
                <i class="fal fa-search"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="main-menu">
          <ul class="list-unstyled">
            <li class="item">
              <a class="menu-link" href="../index.html">
                <i class="fal fa-home"></i>
                <span>Trang chủ</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../dashboard.html">
                <span>Dashboard</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../modul.html">
                <span>Modul</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../chucnang-cuaban.html">
                <span>Chức năng của bạn</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../tintuc.html">
                <span>Tin tức</span>
              </a>
            </li>
          </ul>
          <div class="menu-toggle">
            <i class="fal fa-bars"></i>
          </div>
        </div>
        <div class="account-group">
          <div class="dropdown">
            <div class="item" data-bs-toggle="dropdown">
              <i class="fal fa-circle-check"></i>
              <span>3</span>
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <div class="item message" data-bs-toggle="dropdown">
              <i class="fal fa-messages"></i>
              <span>3</span>
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <div class="item noti" data-bs-toggle="dropdown">
              <i class="fal fa-bell"></i>
              <span>9+</span>
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <div class="item" data-bs-toggle="dropdown">
              <img src="../assets/images/avatar.jpg" class="avatar" />
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="function mt-50">
      <div class="function-nav">
        <div class="action-function">
          <a href="chart.html" class="btn btn-view">
            <i class="fa-light fa-chart-bar"></i>
            <span>Chart</span>
          </a>
          <a href="table.html" class="btn btn-view">
            <i class="fa-light fa-table"></i>
            <span>Table</span>
          </a>
          <a href="forms.html" class="btn btn-view">
            <i class="fa-light fa-input-text"></i>
            <span>form</span>
          </a>
          <a href="pagingnation.html" class="btn btn-view">
            <i class="fa-light fa-table"></i>
            <span>Pagination</span>
          </a>
          <a href="filter.html" class="btn btn-view">
            <i class="fa-light fa-filter-list"></i>
            <span>Filter</span>
          </a>
        </div>
      </div>
      <div class="function-content">
        <div class="Chart mt-100 mb-100 bg-white pb-100">
          <div class="container">
            <div>
              <canvas id="QuymoLophanhchinh" width="800" height="400"></canvas>
              <canvas
                class="mt-100"
                id="QuymoSV"
                width="800"
                height="400"
              ></canvas>
              <div style="width: 400px">
                <canvas
                  class="mt-100"
                  id="dotuoi"
                  width="400"
                  height="400"
                ></canvas>
              </div>
              <div style="width: 400px">
                <canvas
                  class="mt-100"
                  id="tile_hocham"
                  width="400"
                  height="400"
                ></canvas>
              </div>
              <canvas id="tile_giangvien" width="800" height="400"></canvas>
              <div class="my-100">
                <canvas id="other" width="800" height="400"></canvas>
              </div>
              <div class="my-100">
                <canvas id="bieudomoi" width="800" height="400"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="../assets/bootstrap-5.3.2/js/bootstrap.bundle.js"></script>
    <script src="../assets/swiper-slide/swiper-bundle.min.js"></script>
    <script src="../assets/js/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"
      integrity="sha512-JPcRR8yFa8mmCsfrw4TNte1ZvF1e3+1SdGMslZvmrzDYxS69J7J49vkFL8u6u8PlPJK+H3voElBtUCzaXj+6ig=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="../assets/js/customs.js"></script>

    <script>
      const QuymoLophanhchinh = document.getElementById("QuymoLophanhchinh");
      const QuymoSV = document.getElementById("QuymoSV");
      const dotuoi = document.getElementById("dotuoi");
      const tileGiangvien = document.getElementById("tile_giangvien");
      const tileHocham = document.getElementById("tile_hocham");
      const bieudomoi = document.getElementById("bieudomoi");
      const label = [
        "Công nghệ thông tin và truyền thông",
        "Công nghệ thông tin và truyền thông",
        "Kinh doanh và quản lý",
        "Mỹ thuật và thiết kế",
        "Mỹ thuật và thiết kế",
        "Ngôn ngữ và văn hóa",
        "Ngôn ngữ và văn hóa",
      ];
      new Chart(QuymoLophanhchinh, {
        type: "bar",
        data: {
          labels: label,
          datasets: [
            {
              label: "Số lớp hành chính Năm học 2022 - 2023",
              data: [3, 1, 2, 5, 6, 15, 18],
              backgroundColor: ["rgba(25, 107, 35, .8) "],
              borderColor: ["rgba(25, 107, 35, 1) "],
              borderWidth: 1,
            },
            {
              label: "Số lớp hành chính Năm học 2023 - 2024",
              data: [7, 5, 9, 15, 9, 20, 8],
              backgroundColor: ["rgba(15, 158, 214, .8)"],
              borderColor: ["rgba(15, 158, 214, 1)"],
              borderWidth: 1,
            },
          ],
        },
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                //color: 'transparent'
              },
            },
          },
          plugins: {
            title: {
              display: true,
              text: "QUY MÔ LỚP HÀNH CHÍNH",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });
      /*** Quy mô sinh viên**/
      new Chart(QuymoSV, {
        type: "bar",
        data: {
          labels: label,
          datasets: [
            {
              label: "Số lớp hành chính Năm học 2022 - 2023",
              data: [50, 30, 45, 25, 50, 15, 70],
              backgroundColor: ["rgba(25, 107, 35, .8) "],
              borderColor: ["rgba(25, 107, 35, 1) "],
              borderWidth: 1,
              datalabels: {
                // color: 'blue',
                anchor: "end",
                align: "top",
                offset: 10,
                rotation: -90,
                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
            {
              label: "Số lớp hành chính Năm học 2023 - 2024",
              data: [375, 250, 200, 150, 200, 100, 150],
              backgroundColor: ["rgba(15, 158, 214, .8)"],
              borderColor: ["rgba(15, 158, 214, 1)"],
              borderWidth: 1,
              datalabels: {
                // color: 'blue',
                anchor: "end",
                align: "top",
                offset: 10,
                rotation: -90,
                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              //display: false,
              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                color: "transparent",
              },
            },
          },
          plugins: {
            title: {
              display: true,
              text: "QUY MÔ SINH VIÊN",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });
      /** Tỉ lệ độ tuổi **/
      new Chart(dotuoi, {
        type: "doughnut",
        data: {
          labels: ["25 - 30", "30 - 35", "35 - 40", "40 - 50"],
          datasets: [
            {
              label: "Số sinh viên",
              data: [50, 30, 45, 25],
              backgroundColor: [
                "RGB(20,96,130)",
                "rgb(237,115,115)",
                "rgb(28,111,111)",
                "rgb(17,162,162)",
              ],
              borderColor: [
                "RGB(20,96,130)",
                "rgb(237,115,115)",
                "rgb(28,111,111)",
                "rgb(17,162,162)",
              ],
              borderWidth: 1,
              datalabels: {
                color: "#fff",
                // backgroundColor: 'red',
                font: {
                  size: "16",
                  weight: "500",
                },
                formatter: (value, dotuoi) => {
                  const totalSum = dotuoi.dataset.data.reduce(
                    (accumumator, currentValue) => {
                      return accumumator + currentValue;
                    },
                    0
                  );
                  const percent = (value / totalSum) * 100;
                  return `${percent.toFixed(0)}%`;
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          plugins: {
            title: {
              display: true,
              text: "TỈ LỆ ĐỘ TUỔI",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 20,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              position: "right",
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
                font: {
                  size: 16,
                },
              },
            },
          },
        },
      });
      /** Tỉ lệ học hàm **/
      new Chart(tileHocham, {
        type: "pie",
        data: {
          labels: ["Thạc sĩ", "Tiến sĩ", "Phó giáo sư", "Giáo sư"],
          datasets: [
            {
              label: "Số lượng",
              data: [100, 30, 35, 25],
              backgroundColor: ["#146082", "#ed7333", "#1c6f29", "#10a1d7"],
              borderColor: ["#146082", "#ed7333", "#1c6f29", "#10a1d7"],
              borderWidth: 1,
              datalabels: {
                color: "#fff",
                // backgroundColor: 'red',
                font: {
                  size: "16",
                  weight: "500",
                },
                formatter: (value, dotuoi) => {
                  const totalSum = dotuoi.dataset.data.reduce(
                    (accumumator, currentValue) => {
                      return accumumator + currentValue;
                    },
                    0
                  );
                  const percent = (value / totalSum) * 100;
                  return `${percent.toFixed(0)}%`;
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          plugins: {
            title: {
              display: true,
              text: "TỈ LỆ HỌC HÀM HỌC VỊ",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 20,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              position: "right",
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
                font: {
                  size: 16,
                },
              },
            },
          },
        },
      });
      /*** Tỉ lệ giảng viên cơ hữu và thỉnh giảng**/
      new Chart(tileGiangvien, {
        type: "bar",
        data: {
          labels: label,
          datasets: [
            {
              label: "Thỉnh giảng",
              data: [510, 310, 245, 225, 150, 150, 70],
              backgroundColor: ["#2d6b8c"],
              borderColor: ["#2d6b8c "],
              borderWidth: 1,
              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
            {
              label: "Cơ hữu",
              data: [375, 250, 200, 150, 200, 100, 150],
              backgroundColor: ["#e5621c"],
              borderColor: ["#e5621c"],
              borderWidth: 1,
              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              stacked: true,

              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                display: false,
              },
            },
            x: {
              stacked: true,
            },
          },
          plugins: {
            title: {
              display: true,
              text: "TỈ LỆ GIẢNG VIÊN CƠ HỮU VÀ THỈNH GIẢNG",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });

      //thống kê khác
      new Chart(other, {
        type: "bar",
        data: {
          labels: ["3/3", "4/3", "5/3", "6/3", "7/3", "8/3", "9/3"],
          datasets: [
            {
              label: "Cuộc chát tự xử lý",
              data: [30, 21, 40, 14, 25, 28, 47],
              backgroundColor: ["#8C52FF"],
              borderColor: ["#8C52FF "],
              borderWidth: 1,
              barPercentage: 1,
              categoryPercentage: 0.5,
              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
            {
              label: "Cuộc chát đã chuyển sang bộ phận khác",
              data: [4, 5, 8, 15, 11, 15, 9],
              backgroundColor: ["#e5621c"],
              borderColor: ["#e5621c"],
              borderWidth: 1,
              barPercentage: 1,
              categoryPercentage: 0.5,

              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              stacked: true,

              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                display: false,
              },
            },
            x: {
              stacked: true,
            },
          },
          plugins: {
            title: {
              display: true,
              text: "Thống kê 7 ngày gần nhất",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });
      /*** Biểu đồ mới ***/

      new Chart(bieudomoi, {
        type: "line",
        data: {
          labels: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sept",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Số lớp",
              data: [
                340, 360, 310, 240, 260, 320, 330, 310, 290, 270, 230, 250,
              ],
              borderColor: "#8C52FF",
              backgroundColor: "rgba(140, 82, 255, .2)",
              borderWidth: 3,
              tension: 0.4,
            },
            {
              label: "Số sinh viên",
              data: [
                290, 270, 220, 190, 250, 350, 370, 330, 300, 260, 210, 160,
              ],
              borderColor: "#E63946",
              backgroundColor: "rgba(230, 57, 70, .2)",
              borderWidth: 3,
              tension: 0.4,
            },
            {
              label: "Tiến độ nhập điểm",
              data: [
                300, 350, 280, 240, 260, 330, 320, 300, 270, 260, 240, 280,
              ],
              borderColor: "#1B9C33",
              backgroundColor: "rgba(27, 156, 51, .2)",
              borderWidth: 3,
              tension: 0.4,
            },
          ],
        },
        options: {
          plugins: {
            title: {
              display: true,
              text: "BIỂU ĐỒ MỚI",
              padding: { top: 10, bottom: 0 },
              font: { size: 28 },
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              labels: {
                padding: 30,
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: "#eee" },
            },
            x: {
              grid: { display: false },
            },
          },
        },
      });
    </script>
  </body>
</html>
