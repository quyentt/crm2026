<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch·ª©c nƒÉng</title>
    <link rel="stylesheet" href="../assets/css/styles.css" />
  </head>

  <body>
    <div class="header fixed-top">
      <div class="top-nav">
        <div class="head-logo">
          <a href="index.html">
            <img class="logo-icon" src="../assets/images/logo/logo-icon.png" />
            <img class="logo-text" src="../assets/images/logo/logo-text.png" />
          </a>
        </div>
        <div class="head-search-form">
          <div class="head-search-toggle">
            <i class="fal fa-search"></i>
          </div>
          <div class="head-search-box">
            <div class="form">
              <input
                type="text"
                class="search-imput"
                placeholder="T√¨m ki·∫øm th√¥ng tin"
              />
              <button class="search-btn">
                <i class="fal fa-search"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="main-menu">
          <ul class="list-unstyled">
            <li class="item">
              <a class="menu-link" href="../index.html">
                <i class="fal fa-home"></i>
                <span>Trang ch·ªß</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../dashboard.html">
                <span>Dashboard</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../modul.html">
                <span>Modul</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../chucnang-cuaban.html">
                <span>Ch·ª©c nƒÉng c·ªßa b·∫°n</span>
              </a>
            </li>
            <li class="item">
              <a class="menu-link" href="../tintuc.html">
                <span>Tin t·ª©c</span>
              </a>
            </li>
          </ul>
          <div class="menu-toggle">
            <i class="fal fa-bars"></i>
          </div>
        </div>
        <div class="account-group">
          <div class="dropdown">
            <div class="item" data-bs-toggle="dropdown">
              <i class="fal fa-circle-check"></i>
              <span>3</span>
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <div class="item message" data-bs-toggle="dropdown">
              <i class="fal fa-messages"></i>
              <span>3</span>
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <div class="item noti" data-bs-toggle="dropdown">
              <i class="fal fa-bell"></i>
              <span>9+</span>
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
          <div class="dropdown">
            <div class="item" data-bs-toggle="dropdown">
              <img src="../assets/images/avatar.jpg" class="avatar" />
            </div>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="function mt-50">
      <div class="function-nav">
        <div class="action-function">
          <a href="chart.html" class="btn btn-view">
            <i class="fa-light fa-chart-bar"></i>
            <span>Chart</span>
          </a>
          <a href="table.html" class="btn btn-view">
            <i class="fa-light fa-table"></i>
            <span>Table</span>
          </a>
          <a href="forms.html" class="btn btn-view">
            <i class="fa-light fa-input-text"></i>
            <span>form</span>
          </a>
          <a href="pagingnation.html" class="btn btn-view">
            <i class="fa-light fa-table"></i>
            <span>Pagination</span>
          </a>
          <a href="filter.html" class="btn btn-view">
            <i class="fa-light fa-filter-list"></i>
            <span>Filter</span>
          </a>
        </div>
      </div>
      <div class="function-content">
        <div class="Chart mt-100 mb-100 bg-white pb-100">
          <div class="container">
            <div>
              <canvas id="QuymoLophanhchinh" width="800" height="400"></canvas>
              <canvas
                class="mt-100"
                id="QuymoSV"
                width="800"
                height="400"
              ></canvas>
              <div style="width: 400px">
                <canvas
                  class="mt-100"
                  id="dotuoi"
                  width="400"
                  height="400"
                ></canvas>
              </div>
              <div style="width: 400px">
                <canvas
                  class="mt-100"
                  id="tile_hocham"
                  width="400"
                  height="400"
                ></canvas>
              </div>
              <canvas id="tile_giangvien" width="800" height="400"></canvas>
              <div class="my-100">
                <canvas id="other" width="800" height="400"></canvas>
              </div>
              <div class="my-100">
                <canvas id="bieudomoi" width="800" height="400"></canvas>
              </div>
              <div class="my-100">
                <canvas id="bieudoGPA" width="800" height="400"></canvas>
              </div>
              <div class="my-100">
                <canvas id="quymotoantruong" width="800" height="400"></canvas>
              </div>
              <div class="my-100">
                <canvas id="xuhuongthuhocphi" width="800" height="400"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="../assets/bootstrap-5.3.2/js/bootstrap.bundle.js"></script>
    <script src="../assets/swiper-slide/swiper-bundle.min.js"></script>
    <script src="../assets/js/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"
      integrity="sha512-JPcRR8yFa8mmCsfrw4TNte1ZvF1e3+1SdGMslZvmrzDYxS69J7J49vkFL8u6u8PlPJK+H3voElBtUCzaXj+6ig=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="../assets/js/customs.js"></script>

    <script>
      const QuymoLophanhchinh = document.getElementById("QuymoLophanhchinh");
      const QuymoSV = document.getElementById("QuymoSV");
      const dotuoi = document.getElementById("dotuoi");
      const tileGiangvien = document.getElementById("tile_giangvien");
      const tileHocham = document.getElementById("tile_hocham");
      const bieudomoi = document.getElementById("bieudomoi");
      const label = [
        "C√¥ng ngh·ªá th√¥ng tin v√† truy·ªÅn th√¥ng",
        "C√¥ng ngh·ªá th√¥ng tin v√† truy·ªÅn th√¥ng",
        "Kinh doanh v√† qu·∫£n l√Ω",
        "M·ªπ thu·∫≠t v√† thi·∫øt k·∫ø",
        "M·ªπ thu·∫≠t v√† thi·∫øt k·∫ø",
        "Ng√¥n ng·ªØ v√† vƒÉn h√≥a",
        "Ng√¥n ng·ªØ v√† vƒÉn h√≥a",
      ];
      new Chart(QuymoLophanhchinh, {
        type: "bar",
        data: {
          labels: label,
          datasets: [
            {
              label: "S·ªë l·ªõp h√†nh ch√≠nh NƒÉm h·ªçc 2022 - 2023",
              data: [3, 1, 2, 5, 6, 15, 18],
              backgroundColor: ["rgba(25, 107, 35, .8) "],
              borderColor: ["rgba(25, 107, 35, 1) "],
              borderWidth: 1,
            },
            {
              label: "S·ªë l·ªõp h√†nh ch√≠nh NƒÉm h·ªçc 2023 - 2024",
              data: [7, 5, 9, 15, 9, 20, 8],
              backgroundColor: ["rgba(15, 158, 214, .8)"],
              borderColor: ["rgba(15, 158, 214, 1)"],
              borderWidth: 1,
            },
          ],
        },
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                //color: 'transparent'
              },
            },
          },
          plugins: {
            title: {
              display: true,
              text: "QUY M√î L·ªöP H√ÄNH CH√çNH",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });
      /*** Quy m√¥ sinh vi√™n**/
      new Chart(QuymoSV, {
        type: "bar",
        data: {
          labels: label,
          datasets: [
            {
              label: "S·ªë l·ªõp h√†nh ch√≠nh NƒÉm h·ªçc 2022 - 2023",
              data: [50, 30, 45, 25, 50, 15, 70],
              backgroundColor: ["rgba(25, 107, 35, .8) "],
              borderColor: ["rgba(25, 107, 35, 1) "],
              borderWidth: 1,
              datalabels: {
                // color: 'blue',
                anchor: "end",
                align: "top",
                offset: 10,
                rotation: -90,
                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
            {
              label: "S·ªë l·ªõp h√†nh ch√≠nh NƒÉm h·ªçc 2023 - 2024",
              data: [375, 250, 200, 150, 200, 100, 150],
              backgroundColor: ["rgba(15, 158, 214, .8)"],
              borderColor: ["rgba(15, 158, 214, 1)"],
              borderWidth: 1,
              datalabels: {
                // color: 'blue',
                anchor: "end",
                align: "top",
                offset: 10,
                rotation: -90,
                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              //display: false,
              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                color: "transparent",
              },
            },
          },
          plugins: {
            title: {
              display: true,
              text: "QUY M√î SINH VI√äN",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });
      /** T·ªâ l·ªá ƒë·ªô tu·ªïi **/
      new Chart(dotuoi, {
        type: "doughnut",
        data: {
          labels: ["25 - 30", "30 - 35", "35 - 40", "40 - 50"],
          datasets: [
            {
              label: "S·ªë sinh vi√™n",
              data: [50, 30, 45, 25],
              backgroundColor: [
                "RGB(20,96,130)",
                "rgb(237,115,115)",
                "rgb(28,111,111)",
                "rgb(17,162,162)",
              ],
              borderColor: [
                "RGB(20,96,130)",
                "rgb(237,115,115)",
                "rgb(28,111,111)",
                "rgb(17,162,162)",
              ],
              borderWidth: 1,
              datalabels: {
                color: "#fff",
                // backgroundColor: 'red',
                font: {
                  size: "16",
                  weight: "500",
                },
                formatter: (value, dotuoi) => {
                  const totalSum = dotuoi.dataset.data.reduce(
                    (accumumator, currentValue) => {
                      return accumumator + currentValue;
                    },
                    0
                  );
                  const percent = (value / totalSum) * 100;
                  return `${percent.toFixed(0)}%`;
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          plugins: {
            title: {
              display: true,
              text: "T·ªà L·ªÜ ƒê·ªò TU·ªîI",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 20,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              position: "right",
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
                font: {
                  size: 16,
                },
              },
            },
          },
        },
      });
      /** T·ªâ l·ªá h·ªçc h√†m **/
      new Chart(tileHocham, {
        type: "pie",
        data: {
          labels: ["Th·∫°c sƒ©", "Ti·∫øn sƒ©", "Ph√≥ gi√°o s∆∞", "Gi√°o s∆∞"],
          datasets: [
            {
              label: "S·ªë l∆∞·ª£ng",
              data: [100, 30, 35, 25],
              backgroundColor: ["#146082", "#ed7333", "#1c6f29", "#10a1d7"],
              borderColor: ["#146082", "#ed7333", "#1c6f29", "#10a1d7"],
              borderWidth: 1,
              datalabels: {
                color: "#fff",
                // backgroundColor: 'red',
                font: {
                  size: "16",
                  weight: "500",
                },
                formatter: (value, dotuoi) => {
                  const totalSum = dotuoi.dataset.data.reduce(
                    (accumumator, currentValue) => {
                      return accumumator + currentValue;
                    },
                    0
                  );
                  const percent = (value / totalSum) * 100;
                  return `${percent.toFixed(0)}%`;
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          plugins: {
            title: {
              display: true,
              text: "T·ªà L·ªÜ H·ªåC H√ÄM H·ªåC V·ªä",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 20,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              position: "right",
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
                font: {
                  size: 16,
                },
              },
            },
          },
        },
      });
      /*** T·ªâ l·ªá gi·∫£ng vi√™n c∆° h·ªØu v√† th·ªânh gi·∫£ng**/
      new Chart(tileGiangvien, {
        type: "bar",
        data: {
          labels: label,
          datasets: [
            {
              label: "Th·ªânh gi·∫£ng",
              data: [510, 310, 245, 225, 150, 150, 70],
              backgroundColor: ["#2d6b8c"],
              borderColor: ["#2d6b8c "],
              borderWidth: 1,
              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
            {
              label: "C∆° h·ªØu",
              data: [375, 250, 200, 150, 200, 100, 150],
              backgroundColor: ["#e5621c"],
              borderColor: ["#e5621c"],
              borderWidth: 1,
              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              stacked: true,

              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                display: false,
              },
            },
            x: {
              stacked: true,
            },
          },
          plugins: {
            title: {
              display: true,
              text: "T·ªà L·ªÜ GI·∫¢NG VI√äN C∆† H·ªÆU V√Ä TH·ªàNH GI·∫¢NG",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });

      //th·ªëng k√™ kh√°c
      new Chart(other, {
        type: "bar",
        data: {
          labels: ["3/3", "4/3", "5/3", "6/3", "7/3", "8/3", "9/3"],
          datasets: [
            {
              label: "Cu·ªôc ch√°t t·ª± x·ª≠ l√Ω",
              data: [30, 21, 40, 14, 25, 28, 47],
              backgroundColor: ["#8C52FF"],
              borderColor: ["#8C52FF "],
              borderWidth: 1,
              barPercentage: 1,
              categoryPercentage: 0.5,
              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
            {
              label: "Cu·ªôc ch√°t ƒë√£ chuy·ªÉn sang b·ªô ph·∫≠n kh√°c",
              data: [4, 5, 8, 15, 11, 15, 9],
              backgroundColor: ["#e5621c"],
              borderColor: ["#e5621c"],
              borderWidth: 1,
              barPercentage: 1,
              categoryPercentage: 0.5,

              datalabels: {
                color: "white",

                font: {
                  size: "16",
                  weight: "500",
                },
              },
            },
          ],
        },
        plugins: [ChartDataLabels],
        options: {
          // indexAxis: 'y',
          scales: {
            y: {
              stacked: true,

              beginAtZero: true,
              border: {
                // color: 'red'
              },
              grid: {
                display: false,
              },
            },
            x: {
              stacked: true,
            },
          },
          plugins: {
            title: {
              display: true,
              text: "Th·ªëng k√™ 7 ng√†y g·∫ßn nh·∫•t",
              padding: {
                top: 10,
                bottom: 0,
              },
              font: {
                size: 30,
              },
              //color: 'red',
              position: "top",
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              // position: 'right',
              // align: 'start'

              labels: {
                padding: 30,
                // color: 'red',
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
        },
      });
      /*** Bi·ªÉu ƒë·ªì m·ªõi ***/

      new Chart(bieudomoi, {
        type: "line",
        data: {
          labels: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sept",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "S·ªë l·ªõp",
              data: [
                340, 360, 310, 240, 260, 320, 330, 310, 290, 270, 230, 250,
              ],
              borderColor: "#8C52FF",
              backgroundColor: "rgba(140, 82, 255, .2)",
              borderWidth: 3,
              tension: 0.4,
            },
            {
              label: "S·ªë sinh vi√™n",
              data: [
                290, 270, 220, 190, 250, 350, 370, 330, 300, 260, 210, 160,
              ],
              borderColor: "#E63946",
              backgroundColor: "rgba(230, 57, 70, .2)",
              borderWidth: 3,
              tension: 0.4,
            },
            {
              label: "Ti·∫øn ƒë·ªô nh·∫≠p ƒëi·ªÉm",
              data: [
                300, 350, 280, 240, 260, 330, 320, 300, 270, 260, 240, 280,
              ],
              borderColor: "#1B9C33",
              backgroundColor: "rgba(27, 156, 51, .2)",
              borderWidth: 3,
              tension: 0.4,
            },
          ],
        },
        options: {
          plugins: {
            title: {
              display: true,
              text: "BI·ªÇU ƒê·ªí M·ªöI",
              padding: { top: 10, bottom: 0 },
              font: { size: 28 },
              align: "center",
            },
            tooltip: {
              yAlign: "bottom",
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#cccccc",
              borderWidth: 1,
              padding: 15,
            },
            legend: {
              labels: {
                padding: 30,
                boxWidth: 15,
                boxHeight: 15,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: "#eee" },
            },
            x: {
              grid: { display: false },
            },
          },
        },
      });
      //Bi·ªÉu ƒë·ªì GPA
      const khoaData = {
        labels: ["Khoa A", "Khoa B", "Khoa C", "Khoa D", "Khoa E"],

        gpa: [3.5, 3.2, 3.3, 2.9, 2.8],
        tyLeDo: [95, 92, 93, 85, 80],

        rankGPA: {
          "Khoa A": "1/5 khoa",
          "Khoa B": "3/5 khoa",
          "Khoa C": "2/5 khoa",
          "Khoa D": "4/5 khoa",
          "Khoa E": "5/5 khoa",
        },

        rankDo: {
          "Khoa A": "1/5 khoa",
          "Khoa B": "2/5 khoa",
          "Khoa C": "3/5 khoa",
          "Khoa D": "4/5 khoa",
          "Khoa E": "5/5 khoa",
        },
      };
      const ctx = document.getElementById("bieudoGPA");

      const chartGPA = new Chart(ctx, {
        type: "bar",
        data: {
          labels: khoaData.labels,
          datasets: [
            {
              type: "bar",
              label: "GPA trung b√¨nh",
              data: khoaData.gpa,
              backgroundColor: "rgba(140, 82, 255, .6)",
              borderRadius: 6,
              barPercentage: 0.5,
              categoryPercentage: 0.6,
              yAxisID: "y",
            },
            {
              type: "line",
              label: "T·ª∑ l·ªá ƒë·ªó (%)",
              data: khoaData.tyLeDo,
              borderColor: "#E63946",
              backgroundColor: "rgba(230, 57, 70, .2)",
              borderWidth: 3,
              tension: 0.4,
              yAxisID: "y1",
            },
          ],
        },
        options: {
          responsive: true,

          plugins: {
            title: {
              display: true,
              text: "GPA TRUNG B√åNH / T·ª∂ L·ªÜ ƒê·ªñ THEO KHOA",
              font: { size: 26 },
              padding: { top: 10, bottom: 20 },
            },

            tooltip: {
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#ccc",
              borderWidth: 1,
              padding: 12,

              callbacks: {
                title(context) {
                  return context[0].label;
                },
                label(context) {
                  const khoa = context.label;
                  return [
                    `GPA TB: ${khoaData.gpa[context.dataIndex]}`,
                    `T·ª∑ l·ªá ƒë·ªó: ${khoaData.tyLeDo[context.dataIndex]}%`,
                    `X·∫øp h·∫°ng GPA: ${khoaData.rankGPA[khoa]}`,
                    `X·∫øp h·∫°ng t·ª∑ l·ªá ƒë·ªó: ${khoaData.rankDo[khoa]}`,
                  ];
                },
              },
            },

            legend: {
              labels: {
                padding: 20,
                boxWidth: 14,
                boxHeight: 14,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },

          scales: {
            y: {
              beginAtZero: true,
              max: 4,
              title: { display: true, text: "GPA" },
              grid: { color: "#eee" },
            },
            y1: {
              position: "right",
              beginAtZero: true,
              max: 100,
              title: { display: true, text: "T·ª∑ l·ªá ƒë·ªó (%)" },
              grid: { drawOnChartArea: false },
            },
            x: {
              grid: { display: false },
            },
          },

          // üîΩ DRILL-DOWN
          onClick(evt, elements) {
            if (!elements.length) return;

            const index = elements[0].index;
            const khoa = khoaData.labels[index];

            // V√≠ d·ª• chuy·ªÉn dashboard
            window.location.href = `/dashboard-lanh-dao?khoa=${encodeURIComponent(
              khoa
            )}`;
          },
        },
      });
      //Bi·ªÉu ƒë·ªì quy m√¥ to√†n tr∆∞·ªùng
      const quyMoData = {
        labels: ["2021", "2022", "2023", "2024", "2025"],
        svNhapMoi: [2000, 3500, 6000, 8000, 12000],
        svDangHoc: [6000, 11000, 17000, 24000, 32000],
        svTotNghiep: [500, 800, 1000, 1200, 1500],
      };
      const ctx1 = document.getElementById("quymotoantruong");

      new Chart(ctx1, {
        type: "line",
        data: {
          labels: quyMoData.labels,
          datasets: [
            {
              label: "SV nh·∫≠p m·ªõi",
              data: quyMoData.svNhapMoi,
              borderColor: "#3B6FD8",
              backgroundColor: "rgba(59, 111, 216, .15)",
              borderWidth: 3,
              tension: 0.4,
              pointRadius: 4,
              fill: false,
            },
            {
              label: "SV ƒëang h·ªçc",
              data: quyMoData.svDangHoc,
              borderColor: "#E63946",
              backgroundColor: "rgba(230, 57, 70, .15)",
              borderWidth: 3,
              tension: 0.4,
              pointRadius: 4,
              fill: false,
            },
            {
              label: "SV t·ªët nghi·ªáp",
              data: quyMoData.svTotNghiep,
              borderColor: "#7AC943",
              backgroundColor: "rgba(122, 201, 67, .2)",
              borderWidth: 3,
              tension: 0.4,
              pointRadius: 4,
              fill: false,
            },
          ],
        },
        options: {
          responsive: true,

          plugins: {
            title: {
              display: true,
              text: "QUY M√î TO√ÄN TR∆Ø·ªúNG",
              font: { size: 24 },
              padding: { top: 10, bottom: 20 },
            },

            tooltip: {
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#ccc",
              borderWidth: 1,
              padding: 12,
              callbacks: {
                label(context) {
                  return `${
                    context.dataset.label
                  }: ${context.parsed.y.toLocaleString()} SV`;
                },
              },
            },

            legend: {
              labels: {
                padding: 25,
                boxWidth: 14,
                boxHeight: 14,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },

          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback(value) {
                  return value.toLocaleString();
                },
              },
              grid: { color: "#eee" },
            },
            x: {
              grid: { display: false },
            },
          },
        },
      });
      //Bi·ªÉu ƒë·ªì xu h∆∞·ªõng thu h·ªçc ph√≠
      const hocPhiData = {
        labels: ["Th√°ng 8", "Th√°ng 9", "Th√°ng 10", "Th√°ng 11", "Th√°ng 12"],

        daThu: [45, 70, 90, 110, 125],
        mucTieu: [50, 80, 95, 115, 130],
        tyLeThu: [35, 70, 85, 95, 90],
      };
      const ctx2 = document.getElementById("xuhuongthuhocphi");

      new Chart(ctx2, {
        data: {
          labels: hocPhiData.labels,
          datasets: [
            {
              type: "bar",
              label: "ƒê√£ thu (t·ª∑)",
              data: hocPhiData.daThu,
              backgroundColor: "rgba(59, 111, 216, .7)",
              borderRadius: 6,

              barPercentage: 0.45,
              categoryPercentage: 0.6,
            },
            {
              type: "line",
              label: "M·ª•c ti√™u (t·ª∑)",
              data: hocPhiData.mucTieu,
              borderColor: "#7AC943",
              backgroundColor: "rgba(122, 201, 67, .2)",
              borderWidth: 3,
              tension: 0.4,
              pointRadius: 4,
              yAxisID: "y",
            },
            {
              type: "line",
              label: "T·ª∑ l·ªá thu (%)",
              data: hocPhiData.tyLeThu,
              borderColor: "#E63946",
              borderWidth: 3,
              tension: 0.4,
              pointRadius: 4,
              yAxisID: "y1",
            },
          ],
        },

        options: {
          responsive: true,

          plugins: {
            title: {
              display: true,
              text: "BI·ªÇU ƒê·ªí XU H∆Ø·ªöNG THU H·ªåC PH√ç",
              font: { size: 24 },
              padding: { top: 10, bottom: 20 },
            },

            // üéØ TOOLTIP THEO TH√ÅNG
            tooltip: {
              backgroundColor: "#fff",
              titleColor: "#222",
              bodyColor: "#222",
              borderColor: "#ccc",
              borderWidth: 1,
              padding: 12,

              callbacks: {
                title(context) {
                  return context[0].label;
                },
                label(context) {
                  const index = context.dataIndex;

                  return [
                    `S·ªë ti·ªÅn ƒë√£ thu: ${hocPhiData.daThu[index]} t·ª∑`,
                    `T·ª∑ l·ªá thu: ${hocPhiData.tyLeThu[index]} %`,
                    `M·ª•c ti√™u: ${hocPhiData.mucTieu[index]} t·ª∑`,
                  ];
                },
              },
            },

            legend: {
              labels: {
                padding: 20,
                boxWidth: 14,
                boxHeight: 14,
                useBorderRadius: true,
                borderRadius: 3,
              },
            },
          },

          scales: {
            y: {
              beginAtZero: true,
              title: { display: true, text: "T·ª∑ ƒë·ªìng" },
              grid: { color: "#eee" },
            },
            y1: {
              position: "right",
              beginAtZero: true,
              max: 100,
              title: { display: true, text: "%" },
              grid: { drawOnChartArea: false },
            },
            x: {
              grid: { display: false },
            },
          },
        },
      });
    </script>
  </body>
</html>
